<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Treinamento - Ferramentas de Qualidade | Multimodal</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <style>
        :root {
            --primary-color: #0066cc;
            --secondary-color: #00a86b;
            --accent-color: #ff6b35;
            --dark-bg: #1a1a2e;
            --light-bg: #f8f9fa;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding-top: 80px;
        }

        .training-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .training-header {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .training-header h1 {
            color: var(--primary-color);
            font-weight: 700;
            margin-bottom: 10px;
        }

        .progress-container {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .tool-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .tool-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: transparent;
            transition: all 0.3s ease;
        }

        .tool-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .tool-card:hover::before {
            width: 100%;
            opacity: 0.05;
        }

        .tool-card.completed {
            border-left: 5px solid var(--secondary-color);
            background: linear-gradient(to right, rgba(0, 168, 107, 0.05) 0%, white 5%);
        }

        .tool-card.completed::before {
            background: var(--secondary-color);
        }

        .tool-card.in-progress {
            border-left: 5px solid var(--accent-color);
            background: linear-gradient(to right, rgba(255, 107, 53, 0.05) 0%, white 5%);
        }

        .tool-card.in-progress::before {
            background: var(--accent-color);
        }

        .tool-icon {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
            margin-bottom: 20px;
        }

        .swot-icon { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .brainstorm-icon { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
        .forca-impacto-icon { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
        .ishikawa-icon { background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); }
        .5porques-icon { background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); }
        .5w2h-icon { background: linear-gradient(135deg, #30cfd0 0%, #330867 100%); }
        .pdca-icon { background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); }
        .plano-acao-icon { background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%); }
        .relatorio-icon { background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%); }

        .tool-content {
            display: none;
        }

        .tool-content.active {
            display: block;
        }

        .step-indicator {
            display: flex;
            justify-content: space-between;
            margin: 30px 0;
            position: relative;
        }

        .step-indicator::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 0;
            right: 0;
            height: 2px;
            background: #e0e0e0;
            z-index: 0;
        }

        .step {
            background: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #999;
            border: 3px solid #e0e0e0;
            position: relative;
            z-index: 1;
        }

        .step.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .step.completed {
            background: var(--secondary-color);
            color: white;
            border-color: var(--secondary-color);
        }

        .example-box {
            background: #f8f9fa;
            border-left: 4px solid var(--primary-color);
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .example-box h5 {
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        .interactive-demo {
            background: white;
            border: 2px dashed #ddd;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            min-height: 200px;
        }

        .quiz-container {
            background: white;
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
        }

        .quiz-question {
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--primary-color);
        }

        .quiz-option {
            padding: 15px;
            margin: 10px 0;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            padding-left: 45px;
        }

        .quiz-option::before {
            content: counter(option-counter);
            counter-increment: option-counter;
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.85rem;
            color: #666;
        }

        .quiz-container {
            counter-reset: option-counter;
        }

        .quiz-option:hover {
            border-color: var(--primary-color);
            background: #f0f7ff;
            transform: translateX(5px);
        }

        .quiz-option.correct {
            border-color: var(--secondary-color);
            background: #e8f5e9;
        }

        .quiz-option.correct::before {
            background: var(--secondary-color);
            color: white;
            content: '‚úì';
        }

        .quiz-option.incorrect {
            border-color: #f44336;
            background: #ffebee;
        }

        .quiz-option.incorrect::before {
            background: #f44336;
            color: white;
            content: '‚úó';
        }

        .badge-custom {
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .nav-tabs-custom {
            border-bottom: 2px solid #e0e0e0;
            margin-bottom: 25px;
        }

        .nav-tabs-custom .nav-link {
            border: none;
            color: #666;
            font-weight: 600;
            padding: 15px 25px;
            border-bottom: 3px solid transparent;
        }

        .nav-tabs-custom .nav-link.active {
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
            background: transparent;
        }

        .video-placeholder {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 300px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
        }

        .certificate-btn {
            background: linear-gradient(135deg, var(--secondary-color) 0%, #00d4aa 100%);
            border: none;
            padding: 15px 40px;
            border-radius: 50px;
            color: white;
            font-weight: 600;
            font-size: 1.1rem;
            transition: transform 0.3s;
        }

        .certificate-btn:hover {
            transform: scale(1.05);
            color: white;
        }

        .floating-menu {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
        }

        .floating-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--primary-color);
            color: white;
            border: none;
            font-size: 1.5rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            transition: transform 0.3s;
        }

        .floating-btn:hover {
            transform: scale(1.1);
        }

        .tool-summary {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 4px solid var(--primary-color);
        }

        .tool-summary h6 {
            color: var(--primary-color);
            font-weight: 600;
            margin-bottom: 10px;
        }

        .completion-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--secondary-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            box-shadow: 0 3px 10px rgba(0, 168, 107, 0.3);
        }

        .progress-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
            background: #e0e0e0;
        }

        .progress-indicator.completed {
            background: var(--secondary-color);
        }

        .progress-indicator.in-progress {
            background: var(--accent-color);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .quick-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background: var(--primary-color);
            color: white;
            border-radius: 20px;
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.3s;
            margin-top: 10px;
        }

        .quick-link:hover {
            background: #0052a3;
            color: white;
            transform: scale(1.05);
        }

        .tool-order-badge {
            position: absolute;
            top: 15px;
            left: 15px;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9rem;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
        }

        @media (max-width: 768px) {
            .step-indicator {
                flex-wrap: wrap;
            }

            .step {
                margin: 5px;
            }

            .tool-card {
                padding: 20px;
            }

            .tool-icon {
                width: 60px;
                height: 60px;
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="portal.html">
                <i class="bi bi-speedometer2"></i> Multimodal - Treinamento
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="portal.html">
                            <i class="bi bi-house"></i> Portal
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="ferramentas-qualidade.html">
                            <i class="bi bi-tools"></i> Ferramentas
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="training-container">
        <!-- Header -->
        <div class="training-header">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1><i class="bi bi-mortarboard"></i> Treinamento Completo: Ferramentas de Qualidade</h1>
                    <p class="text-muted mb-0">Aprenda a utilizar todas as ferramentas de qualidade de forma eficiente e pr√°tica</p>
                </div>
                <div class="col-md-4 text-end">
                    <span class="badge bg-primary badge-custom">
                        <i class="bi bi-clock"></i> Dura√ß√£o: ~2 horas
                    </span>
                </div>
            </div>
        </div>

        <!-- Progress -->
        <div class="progress-container">
            <div class="d-flex justify-content-between align-items-center mb-3">
                <div>
                    <h5 class="mb-1"><i class="bi bi-graph-up"></i> Seu Progresso</h5>
                    <small class="text-muted">Complete todas as ferramentas para receber seu certificado</small>
                </div>
                <div class="text-end">
                    <span id="progressPercentage" class="badge bg-success fs-6">0%</span>
                    <div class="mt-1">
                        <small class="text-muted">
                            <span id="completedCount">0</span> de <span id="totalCount">9</span> conclu√≠das
                        </small>
                    </div>
                </div>
            </div>
            <div class="progress" style="height: 30px; border-radius: 15px;">
                <div id="progressBar" class="progress-bar progress-bar-striped progress-bar-animated" 
                     role="progressbar" style="width: 0%; font-weight: 600; display: flex; align-items: center; justify-content: center;">
                    <span id="progressText">0% Completo</span>
                </div>
            </div>
            <div class="mt-3" id="progressIndicators">
                <!-- Indicadores ser√£o inseridos via JavaScript -->
            </div>
        </div>

        <!-- Tools Overview -->
        <div class="row mb-4">
            <div class="col-12">
                <h3 class="text-white mb-4"><i class="bi bi-list-check"></i> Ferramentas Dispon√≠veis</h3>
            </div>
        </div>

        <!-- Tool Cards -->
        <div id="toolsContainer" class="row">
            <!-- Cards ser√£o inseridos aqui via JavaScript -->
        </div>

        <!-- Tool Details Modal -->
        <div class="modal fade" id="toolModal" tabindex="-1">
            <div class="modal-dialog modal-xl">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="toolModalTitle"></h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body" id="toolModalBody">
                        <!-- Conte√∫do ser√° inserido via JavaScript -->
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                        <button type="button" class="btn btn-primary" onclick="markAsCompleted()">
                            <i class="bi bi-check-circle"></i> Marcar como Conclu√≠do
                        </button>
                        <a href="ferramentas-qualidade.html" class="btn btn-success">
                            <i class="bi bi-play-circle"></i> Praticar Agora
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Floating Menu -->
        <div class="floating-menu">
            <button class="floating-btn" onclick="scrollToTop()" title="Voltar ao topo">
                <i class="bi bi-arrow-up"></i>
            </button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
        // ========== INICIALIZA√á√ÉO SUPABASE ==========
        let supabase = null;
        
        async function inicializarSupabase() {
            try {
                console.log('üîß Inicializando Supabase...');
                
                // Buscar configura√ß√£o do servidor
                const response = await fetch('/api/supabase-config');
                if (!response.ok) {
                    console.warn('‚ö†Ô∏è N√£o foi poss√≠vel buscar configura√ß√£o do Supabase');
                    return false;
                }
                
                const config = await response.json();
                console.log('üìã Configura√ß√£o Supabase carregada');
                
                // Inicializar cliente Supabase
                supabase = window.supabase.createClient(config.supabaseUrl, config.supabaseAnonKey);
                window.supabase = supabase;
                
                console.log('‚úÖ Supabase inicializado com sucesso');
                return true;
            } catch (error) {
                console.warn('‚ö†Ô∏è Erro ao inicializar Supabase:', error);
                return false;
            }
        }
        
        // Inicializar Supabase ao carregar a p√°gina
        document.addEventListener('DOMContentLoaded', async function() {
            await inicializarSupabase();
        });

        // Dados das ferramentas
        const tools = [
            {
                id: 'swot',
                name: 'An√°lise SWOT',
                icon: 'bi-diagram-3',
                color: 'swot-icon',
                description: 'Identifique For√ßas, Fraquezas, Oportunidades e Amea√ßas',
                order: 1,
                content: {
                    overview: 'A An√°lise SWOT √© uma ferramenta estrat√©gica que permite identificar e analisar os fatores internos (For√ßas e Fraquezas) e externos (Oportunidades e Amea√ßas) que afetam uma organiza√ß√£o, projeto ou situa√ß√£o.',
                    whenToUse: [
                        'Planejamento estrat√©gico',
                        'An√°lise de mercado',
                        'Tomada de decis√£o',
                        'Avalia√ß√£o de projetos',
                        'Identifica√ß√£o de riscos e oportunidades'
                    ],
                    steps: [
                        {
                            title: '1. Defina o Objetivo',
                            description: 'Estabele√ßa claramente o que voc√™ est√° analisando (empresa, projeto, produto, etc.)'
                        },
                        {
                            title: '2. Identifique For√ßas',
                            description: 'Liste os pontos positivos internos: recursos, capacidades, vantagens competitivas'
                        },
                        {
                            title: '3. Identifique Fraquezas',
                            description: 'Liste os pontos negativos internos: limita√ß√µes, defici√™ncias, √°reas de melhoria'
                        },
                        {
                            title: '4. Identifique Oportunidades',
                            description: 'Liste fatores externos positivos: tend√™ncias de mercado, novas tecnologias, mudan√ßas regulat√≥rias'
                        },
                        {
                            title: '5. Identifique Amea√ßas',
                            description: 'Liste fatores externos negativos: concorr√™ncia, mudan√ßas econ√¥micas, riscos regulat√≥rios'
                        },
                        {
                            title: '6. Analise e Priorize',
                            description: 'Priorize os itens mais importantes e desenvolva estrat√©gias baseadas na an√°lise'
                        }
                    ],
                    example: {
                        title: 'Exemplo: An√°lise SWOT de uma Startup de Tecnologia',
                        content: {
                            forcas: [
                                'Equipe t√©cnica altamente qualificada',
                                'Produto inovador com tecnologia propriet√°ria',
                                'Baixos custos operacionais iniciais'
                            ],
                            fraquezas: [
                                'Falta de capital para marketing',
                                'Pequeno portf√≥lio de clientes',
                                'Depend√™ncia de poucos investidores'
                            ],
                            oportunidades: [
                                'Mercado em crescimento',
                                'Demanda por solu√ß√µes tecnol√≥gicas',
                                'Parcerias estrat√©gicas dispon√≠veis'
                            ],
                            ameacas: [
                                'Concorr√™ncia de grandes empresas',
                                'Mudan√ßas regulat√≥rias',
                                'Escassez de talentos no mercado'
                            ]
                        }
                    },
                    tips: [
                        'Seja honesto e objetivo na an√°lise',
                        'Involva diferentes perspectivas da equipe',
                        'Priorize os fatores mais impactantes',
                        'Revise periodicamente a an√°lise',
                        'Use a an√°lise para desenvolver estrat√©gias espec√≠ficas'
                    ],
                    quiz: {
                        question: 'Qual √© o principal objetivo da An√°lise SWOT?',
                        options: [
                            'Identificar apenas problemas internos',
                            'Analisar fatores internos e externos para tomada de decis√£o estrat√©gica',
                            'Criar um plano de marketing',
                            'Calcular custos operacionais'
                        ],
                        correct: 1
                    }
                }
            },
            {
                id: 'brainstorm',
                name: 'Brainstorming',
                icon: 'bi-lightbulb',
                color: 'brainstorm-icon',
                description: 'Gere ideias criativas e solu√ß√µes inovadoras',
                order: 2,
                content: {
                    overview: 'O Brainstorming √© uma t√©cnica de gera√ß√£o de ideias em grupo que estimula a criatividade e permite explorar m√∫ltiplas solu√ß√µes para um problema.',
                    whenToUse: [
                        'Gera√ß√£o de ideias para novos produtos',
                        'Resolu√ß√£o de problemas complexos',
                        'Planejamento de projetos',
                        'Identifica√ß√£o de melhorias',
                        'Inova√ß√£o e criatividade'
                    ],
                    steps: [
                        {
                            title: '1. Defina o Problema',
                            description: 'Estabele√ßa claramente o problema ou desafio a ser resolvido'
                        },
                        {
                            title: '2. Prepare o Ambiente',
                            description: 'Crie um ambiente confort√°vel e sem julgamentos para os participantes'
                        },
                        {
                            title: '3. Estabele√ßa Regras',
                            description: 'Nenhuma cr√≠tica durante a gera√ß√£o de ideias, quantidade sobre qualidade, ideias podem ser combinadas'
                        },
                        {
                            title: '4. Gere Ideias',
                            description: 'Permita que todos participem livremente, anotando todas as ideias'
                        },
                        {
                            title: '5. Organize e Categorize',
                            description: 'Agrupe ideias similares e identifique padr√µes'
                        },
                        {
                            title: '6. Avalie e Priorize',
                            description: 'Avalie as ideias mais promissoras e priorize para implementa√ß√£o'
                        }
                    ],
                    example: {
                        title: 'Exemplo: Brainstorming para Reduzir Custos Operacionais',
                        ideas: [
                            'Automatizar processos manuais',
                            'Negociar melhores condi√ß√µes com fornecedores',
                            'Implementar trabalho remoto',
                            'Reduzir desperd√≠cios de materiais',
                            'Otimizar rotas de entrega',
                            'Investir em treinamento para reduzir erros',
                            'Compartilhar recursos entre departamentos',
                            'Implementar sistema de gest√£o de energia'
                        ]
                    },
                    tips: [
                        'N√£o julgue ideias durante a gera√ß√£o',
                        'Encoraje ideias "malucas" - podem levar a solu√ß√µes inovadoras',
                        'Use t√©cnicas visuais (mapas mentais, post-its)',
                        'Limite o tempo para manter o foco',
                        'Documente todas as ideias, mesmo as que parecem impratic√°veis'
                    ],
                    quiz: {
                        question: 'Qual regra √© fundamental no Brainstorming?',
                        options: [
                            'Criticar ideias imediatamente',
                            'Focar apenas em ideias pr√°ticas',
                            'N√£o julgar ideias durante a gera√ß√£o',
                            'Limitar o n√∫mero de participantes'
                        ],
                        correct: 2
                    }
                }
            },
            {
                id: 'forca-impacto',
                name: 'Matriz For√ßa x Impacto',
                icon: 'bi-grid-3x3',
                color: 'forca-impacto-icon',
                description: 'Priorize a√ß√µes baseado em facilidade e impacto',
                order: 3,
                content: {
                    overview: 'A Matriz For√ßa x Impacto √© uma ferramenta de prioriza√ß√£o que ajuda a identificar quais a√ß√µes devem ser implementadas primeiro, considerando a facilidade de execu√ß√£o (For√ßa) e o impacto esperado.',
                    whenToUse: [
                        'Prioriza√ß√£o de a√ß√µes do Brainstorming',
                        'Decis√£o sobre onde investir recursos',
                        'Planejamento de melhorias',
                        'Aloca√ß√£o de esfor√ßos da equipe',
                        'Identifica√ß√£o de quick wins'
                    ],
                    steps: [
                        {
                            title: '1. Liste as A√ß√µes',
                            description: 'Colete todas as a√ß√µes ou ideias a serem priorizadas'
                        },
                        {
                            title: '2. Avalie a For√ßa (Facilidade)',
                            description: 'Atribua uma pontua√ß√£o de 1-5 para facilidade de implementa√ß√£o (1=muito dif√≠cil, 5=muito f√°cil)'
                        },
                        {
                            title: '3. Avalie o Impacto',
                            description: 'Atribua uma pontua√ß√£o de 1-5 para o impacto esperado (1=baixo impacto, 5=alto impacto)'
                        },
                        {
                            title: '4. Posicione no Gr√°fico',
                            description: 'Coloque cada a√ß√£o no gr√°fico baseado nas pontua√ß√µes'
                        },
                        {
                            title: '5. Identifique Quadrantes',
                            description: 'Quick Wins (alta for√ßa, alto impacto), Grandes Projetos (baixa for√ßa, alto impacto), etc.'
                        },
                        {
                            title: '6. Priorize',
                            description: 'Comece pelos Quick Wins, depois Grandes Projetos, evite a√ß√µes de baixo impacto'
                        }
                    ],
                    example: {
                        title: 'Exemplo: Prioriza√ß√£o de Melhorias',
                        quadrants: {
                            quickWins: ['Automatizar relat√≥rios', 'Treinamento b√°sico da equipe'],
                            grandesProjetos: ['Implementar novo sistema ERP', 'Reestrutura√ß√£o organizacional'],
                            preencherTempo: ['Atualizar documenta√ß√£o', 'Organizar arquivos'],
                            evitar: ['Mudan√ßas cosm√©ticas sem impacto', 'Projetos complexos com pouco retorno']
                        }
                    },
                    tips: [
                        'Foque primeiro nos Quick Wins para ganhar momentum',
                        'Grandes Projetos requerem planejamento cuidadoso',
                        'Evite a√ß√µes de baixo impacto, mesmo que f√°ceis',
                        'Revise as pontua√ß√µes com a equipe',
                        'Considere recursos dispon√≠veis ao priorizar'
                    ],
                    quiz: {
                        question: 'Onde devemos focar primeiro na Matriz For√ßa x Impacto?',
                        options: [
                            'A√ß√µes dif√≠ceis com baixo impacto',
                            'Quick Wins (alta for√ßa, alto impacto)',
                            'A√ß√µes f√°ceis com baixo impacto',
                            'Apenas grandes projetos'
                        ],
                        correct: 1
                    }
                }
            },
            {
                id: 'ishikawa',
                name: 'Diagrama de Ishikawa',
                icon: 'bi-diagram-2',
                color: 'ishikawa-icon',
                description: 'Identifique causas raiz de problemas',
                order: 4,
                content: {
                    overview: 'O Diagrama de Ishikawa (Espinha de Peixe) √© uma ferramenta visual que ajuda a identificar e organizar sistematicamente as poss√≠veis causas de um problema.',
                    whenToUse: [
                        'An√°lise de problemas complexos',
                        'Identifica√ß√£o de causas raiz',
                        'Melhoria de processos',
                        'An√°lise de n√£o conformidades',
                        'Preven√ß√£o de problemas recorrentes'
                    ],
                    steps: [
                        {
                            title: '1. Defina o Problema',
                            description: 'Escreva o problema claramente no lado direito do diagrama'
                        },
                        {
                            title: '2. Desenhe a Espinha Principal',
                            description: 'Desenhe uma linha horizontal apontando para o problema'
                        },
                        {
                            title: '3. Identifique Categorias',
                            description: 'Use as 6M: M√©todo, M√°quina, Material, M√£o de Obra, Meio Ambiente, Medi√ß√£o'
                        },
                        {
                            title: '4. Liste Causas por Categoria',
                            description: 'Brainstorming de poss√≠veis causas em cada categoria'
                        },
                        {
                            title: '5. Analise Sub-causas',
                            description: 'Para cada causa, identifique sub-causas mais espec√≠ficas'
                        },
                        {
                            title: '6. Priorize Causas',
                            description: 'Identifique as causas mais prov√°veis e impactantes'
                        }
                    ],
                    example: {
                        title: 'Exemplo: Problema - "Atraso na Entrega de Produtos"',
                        categories: {
                            metodo: ['Processo de embalagem lento', 'Falta de procedimentos claros'],
                            maquina: ['Equipamentos desatualizados', 'Falhas frequentes'],
                            material: ['Falta de materiais', 'Qualidade inadequada'],
                            maoObra: ['Falta de treinamento', 'Subdimensionamento da equipe'],
                            meioAmbiente: ['Espa√ßo f√≠sico inadequado', 'Condi√ß√µes clim√°ticas'],
                            medicao: ['Falta de indicadores', 'Sistema de rastreamento inadequado']
                        }
                    },
                    tips: [
                        'Use as 6M como guia, mas adapte √†s suas necessidades',
                        'Seja espec√≠fico nas causas',
                        'Envolva pessoas que conhecem o processo',
                        'N√£o pare na primeira causa encontrada',
                        'Valide as causas com dados quando poss√≠vel'
                    ],
                    quiz: {
                        question: 'Quais s√£o as categorias padr√£o do Diagrama de Ishikawa?',
                        options: [
                            'Custo, Qualidade, Tempo',
                            'As 6M: M√©todo, M√°quina, Material, M√£o de Obra, Meio Ambiente, Medi√ß√£o',
                            'Pessoas, Processos, Tecnologia',
                            'Entrada, Processamento, Sa√≠da'
                        ],
                        correct: 1
                    }
                }
            },
            {
                id: '5porques',
                name: '5 Porqu√™s',
                icon: 'bi-question-circle',
                color: '5porques-icon',
                description: 'Descubra a causa raiz atrav√©s de perguntas',
                order: 5,
                content: {
                    overview: 'A t√©cnica dos 5 Porqu√™s √© um m√©todo simples e eficaz para identificar a causa raiz de um problema atrav√©s de perguntas sucessivas.',
                    whenToUse: [
                        'Problemas simples a moderados',
                        'Identifica√ß√£o r√°pida de causas raiz',
                        'An√°lise inicial de problemas',
                        'Quando dados quantitativos s√£o limitados',
                        'Comunica√ß√£o clara com equipes'
                    ],
                    steps: [
                        {
                            title: '1. Defina o Problema',
                            description: 'Descreva claramente o problema observado'
                        },
                        {
                            title: '2. Pergunte "Por qu√™?"',
                            description: 'Pergunte por que o problema ocorreu e anote a resposta'
                        },
                        {
                            title: '3. Repita o Processo',
                            description: 'Para cada resposta, pergunte "Por qu√™?" novamente'
                        },
                        {
                            title: '4. Continue at√© a Causa Raiz',
                            description: 'Repita at√© encontrar a causa raiz (geralmente 5 vezes)'
                        },
                        {
                            title: '5. Valide a Causa Raiz',
                            description: 'Verifique se a causa raiz encontrada realmente explica o problema'
                        },
                        {
                            title: '6. Desenvolva Solu√ß√µes',
                            description: 'Crie a√ß√µes corretivas baseadas na causa raiz identificada'
                        }
                    ],
                    example: {
                        title: 'Exemplo: Problema - "Cliente reclamou de produto defeituoso"',
                        chain: [
                            'Por qu√™? ‚Üí Produto saiu com defeito da produ√ß√£o',
                            'Por qu√™? ‚Üí M√°quina n√£o estava calibrada corretamente',
                            'Por qu√™? ‚Üí Manuten√ß√£o preventiva n√£o foi realizada',
                            'Por qu√™? ‚Üí Cronograma de manuten√ß√£o n√£o foi seguido',
                            'Por qu√™? ‚Üí Falta de processo documentado e respons√°vel designado',
                            'CAUSA RAIZ: Aus√™ncia de processo formal de manuten√ß√£o preventiva'
                        ]
                    },
                    tips: [
                        'N√£o pare na primeira resposta √≥bvia',
                        'Seja espec√≠fico nas respostas',
                        'Pode precisar de mais ou menos de 5 perguntas',
                        'Envolva pessoas que conhecem o processo',
                        'Documente todo o processo de an√°lise'
                    ],
                    quiz: {
                        question: 'Quantas vezes devemos perguntar "Por qu√™?" na t√©cnica dos 5 Porqu√™s?',
                        options: [
                            'Exatamente 5 vezes, sempre',
                            'At√© encontrar a causa raiz (geralmente 5 vezes)',
                            'Apenas 3 vezes',
                            'Quantas vezes forem necess√°rias, sem limite'
                        ],
                        correct: 1
                    }
                }
            },
            {
                id: '5w2h',
                name: '5W2H',
                icon: 'bi-card-checklist',
                color: '5w2h-icon',
                description: 'Planeje a√ß√µes de forma completa e estruturada',
                order: 6,
                content: {
                    overview: 'O 5W2H √© uma ferramenta de planejamento que garante que todas as informa√ß√µes essenciais sejam consideradas ao planejar uma a√ß√£o ou projeto.',
                    whenToUse: [
                        'Planejamento de a√ß√µes corretivas',
                        'Defini√ß√£o de projetos',
                        'Comunica√ß√£o de planos',
                        'Documenta√ß√£o de processos',
                        'Planejamento de melhorias'
                    ],
                    steps: [
                        {
                            title: '1. WHAT (O qu√™?)',
                            description: 'Defina claramente o que ser√° feito'
                        },
                        {
                            title: '2. WHY (Por qu√™?)',
                            description: 'Explique a raz√£o e o objetivo da a√ß√£o'
                        },
                        {
                            title: '3. WHO (Quem?)',
                            description: 'Identifique quem ser√° respons√°vel e quem participar√°'
                        },
                        {
                            title: '4. WHERE (Onde?)',
                            description: 'Especifique onde a a√ß√£o ser√° realizada'
                        },
                        {
                            title: '5. WHEN (Quando?)',
                            description: 'Defina prazos e cronograma'
                        },
                        {
                            title: '6. HOW (Como?)',
                            description: 'Descreva os m√©todos e processos a serem utilizados'
                        },
                        {
                            title: '7. HOW MUCH (Quanto?)',
                            description: 'Estime custos e recursos necess√°rios'
                        }
                    ],
                    example: {
                        title: 'Exemplo: Implementa√ß√£o de Treinamento',
                        content: {
                            what: 'Implementar programa de treinamento em qualidade',
                            why: 'Reduzir erros e melhorar satisfa√ß√£o do cliente',
                            who: 'Equipe de RH e gestores de qualidade',
                            where: 'Sala de treinamento da empresa',
                            when: 'In√≠cio em 01/02/2024, dura√ß√£o de 3 meses',
                            how: 'Aulas presenciais, materiais online, avalia√ß√µes pr√°ticas',
                            howMuch: 'R$ 15.000 em materiais e instrutores'
                        }
                    },
                    tips: [
                        'Seja espec√≠fico em cada resposta',
                        'Garanta que todas as perguntas sejam respondidas',
                        'Use como checklist antes de iniciar a√ß√µes',
                        'Revise periodicamente durante a execu√ß√£o',
                        'Documente para refer√™ncia futura'
                    ],
                    quiz: {
                        question: 'Quantas perguntas comp√µem o 5W2H?',
                        options: [
                            '5 perguntas',
                            '7 perguntas (5W + 2H)',
                            '6 perguntas',
                            '8 perguntas'
                        ],
                        correct: 1
                    }
                }
            },
            {
                id: 'pdca',
                name: 'PDCA',
                icon: 'bi-arrow-repeat',
                color: 'pdca-icon',
                description: 'Ciclo cont√≠nuo de melhoria',
                order: 7,
                content: {
                    overview: 'O PDCA (Plan-Do-Check-Act) √© um m√©todo iterativo de gest√£o para controle e melhoria cont√≠nua de processos e produtos.',
                    whenToUse: [
                        'Implementa√ß√£o de melhorias',
                        'Resolu√ß√£o de problemas',
                        'Gest√£o de processos',
                        'Controle de qualidade',
                        'Melhoria cont√≠nua'
                    ],
                    steps: [
                        {
                            title: 'PLAN (Planejar)',
                            description: 'Defina objetivos, identifique problemas, analise causas, desenvolva plano de a√ß√£o'
                        },
                        {
                            title: 'DO (Fazer)',
                            description: 'Execute o plano, implemente as a√ß√µes, colete dados durante a execu√ß√£o'
                        },
                        {
                            title: 'CHECK (Verificar)',
                            description: 'Analise os resultados, compare com objetivos, identifique desvios e aprendizados'
                        },
                        {
                            title: 'ACT (Agir)',
                            description: 'Padronize se funcionou, corrija se n√£o funcionou, inicie novo ciclo de melhoria'
                        }
                    ],
                    example: {
                        title: 'Exemplo: Redu√ß√£o de Tempo de Processamento',
                        cycle: {
                            plan: 'Objetivo: Reduzir tempo de processamento de 2h para 1h. Plano: Automatizar etapa manual',
                            do: 'Implementar automa√ß√£o, treinar equipe, executar processo automatizado por 2 semanas',
                            check: 'Tempo m√©dio caiu para 1h15min. Verificar se objetivo foi alcan√ßado e identificar melhorias',
                            act: 'Padronizar automa√ß√£o. Novo ciclo: objetivo de reduzir para 45min atrav√©s de otimiza√ß√£o'
                        }
                    },
                    tips: [
                        'PDCA √© um ciclo cont√≠nuo, n√£o um processo linear',
                        'Documente cada etapa para aprendizado',
                        'Use dados para tomar decis√µes',
                        'N√£o tenha medo de ajustar o plano',
                        'Celebre pequenas melhorias'
                    ],
                    quiz: {
                        question: 'Qual √© a ordem correta do ciclo PDCA?',
                        options: [
                            'Do, Plan, Act, Check',
                            'Plan, Do, Check, Act',
                            'Check, Plan, Do, Act',
                            'Act, Plan, Do, Check'
                        ],
                        correct: 1
                    }
                }
            },
            {
                id: 'plano-acao',
                name: 'Plano de A√ß√£o',
                icon: 'bi-clipboard-check',
                color: 'plano-acao-icon',
                description: 'Organize e acompanhe a√ß√µes de melhoria',
                order: 8,
                content: {
                    overview: 'O Plano de A√ß√£o √© uma ferramenta de gest√£o que organiza tarefas, responsabilidades, prazos e recursos necess√°rios para alcan√ßar objetivos espec√≠ficos.',
                    whenToUse: [
                        'Implementa√ß√£o de melhorias identificadas',
                        'Execu√ß√£o de a√ß√µes corretivas',
                        'Gest√£o de projetos',
                        'Acompanhamento de metas',
                        'Organiza√ß√£o de tarefas da equipe'
                    ],
                    steps: [
                        {
                            title: '1. Liste as A√ß√µes',
                            description: 'Identifique todas as a√ß√µes necess√°rias para alcan√ßar o objetivo'
                        },
                        {
                            title: '2. Defina Respons√°veis',
                            description: 'Atribua cada a√ß√£o a um respons√°vel espec√≠fico'
                        },
                        {
                            title: '3. Estabele√ßa Prazos',
                            description: 'Defina datas de in√≠cio e conclus√£o para cada a√ß√£o'
                        },
                        {
                            title: '4. Aloque Recursos',
                            description: 'Identifique recursos necess√°rios (pessoas, materiais, or√ßamento)'
                        },
                        {
                            title: '5. Defina Indicadores',
                            description: 'Estabele√ßa como medir o sucesso de cada a√ß√£o'
                        },
                        {
                            title: '6. Acompanhe Regularmente',
                            description: 'Revise o progresso periodicamente e ajuste quando necess√°rio'
                        }
                    ],
                    example: {
                        title: 'Exemplo: Plano de A√ß√£o para Melhoria de Qualidade',
                        actions: [
                            {
                                acao: 'Implementar treinamento em qualidade',
                                responsavel: 'Jo√£o Silva',
                                prazo: '15/02/2024',
                                status: 'Em andamento'
                            },
                            {
                                acao: 'Atualizar procedimentos operacionais',
                                responsavel: 'Maria Santos',
                                prazo: '28/02/2024',
                                status: 'Planejado'
                            },
                            {
                                acao: 'Instalar sistema de monitoramento',
                                responsavel: 'Pedro Costa',
                                prazo: '10/03/2024',
                                status: 'Planejado'
                            }
                        ]
                    },
                    tips: [
                        'Seja espec√≠fico nas a√ß√µes',
                        'Defina respons√°veis claros',
                        'Estabele√ßa prazos realistas',
                        'Revise regularmente o progresso',
                        'Ajuste o plano quando necess√°rio'
                    ],
                    quiz: {
                        question: 'Qual elemento N√ÉO √© essencial em um Plano de A√ß√£o?',
                        options: [
                            'A√ß√µes espec√≠ficas',
                            'Respons√°veis designados',
                            'Prazos definidos',
                            'Previs√£o do tempo (n√£o √© essencial)'
                        ],
                        correct: 3
                    }
                }
            },
            {
                id: 'relatorio',
                name: 'Relat√≥rio com IA',
                icon: 'bi-file-earmark-text',
                color: 'relatorio-icon',
                description: 'Gere relat√≥rios completos e profissionais',
                order: 9,
                content: {
                    overview: 'O Relat√≥rio com IA consolida todas as an√°lises realizadas nas ferramentas anteriores, gerando um documento completo e profissional com insights e recomenda√ß√µes.',
                    whenToUse: [
                        'Consolida√ß√£o de an√°lises',
                        'Apresenta√ß√£o para gest√£o',
                        'Documenta√ß√£o de projetos',
                        'Comunica√ß√£o de resultados',
                        'Hist√≥rico de melhorias'
                    ],
                    steps: [
                        {
                            title: '1. Colete Dados',
                            description: 'Re√∫na informa√ß√µes de todas as ferramentas utilizadas'
                        },
                        {
                            title: '2. Defina Contexto',
                            description: 'Descreva o problema inicial e objetivos do projeto'
                        },
                        {
                            title: '3. Gere Relat√≥rio com IA',
                            description: 'Use a IA para consolidar e analisar todas as informa√ß√µes'
                        },
                        {
                            title: '4. Revise e Ajuste',
                            description: 'Revise o relat√≥rio gerado e fa√ßa ajustes necess√°rios'
                        },
                        {
                            title: '5. Adicione Visualiza√ß√µes',
                            description: 'Inclua gr√°ficos, tabelas e diagramas quando relevante'
                        },
                        {
                            title: '6. Compartilhe',
                            description: 'Distribua o relat√≥rio para stakeholders e equipe'
                        }
                    ],
                    example: {
                        title: 'Estrutura de um Relat√≥rio Completo',
                        sections: [
                            'Resumo Executivo',
                            'Contexto e Problema Identificado',
                            'An√°lise Realizada (SWOT, Ishikawa, etc.)',
                            'Causa Raiz Identificada',
                            'A√ß√µes Planejadas e Executadas',
                            'Resultados Obtidos',
                            'Pr√≥ximos Passos e Recomenda√ß√µes'
                        ]
                    },
                    tips: [
                        'Seja objetivo e claro',
                        'Use dados e evid√™ncias',
                        'Inclua visualiza√ß√µes quando poss√≠vel',
                        'Destaque resultados e aprendizados',
                        'Forne√ßa recomenda√ß√µes acion√°veis'
                    ],
                    quiz: {
                        question: 'Qual √© o principal objetivo de um Relat√≥rio com IA?',
                        options: [
                            'Substituir todas as an√°lises anteriores',
                            'Consolidar e apresentar todas as an√°lises de forma profissional',
                            'Apenas documentar problemas',
                            'Gerar gr√°ficos bonitos'
                        ],
                        correct: 1
                    }
                }
            }
        ];

        // Estado do treinamento
        let trainingState = {
            completed: JSON.parse(localStorage.getItem('trainingCompleted') || '[]'),
            progress: parseInt(localStorage.getItem('trainingProgress') || '0')
        };

        // Inicializa√ß√£o
        document.addEventListener('DOMContentLoaded', function() {
            renderTools();
            updateProgress();
            checkCompletion(); // Verificar se j√° completou tudo ao carregar
        });

        // Verificar conclus√£o ao carregar
        function checkCompletion() {
            if (trainingState.completed.length === tools.length) {
                // Se j√° completou tudo, mostrar bot√£o de certificado
                mostrarBotaoCertificado();
            }
        }

        // Renderizar ferramentas
        function renderTools() {
            const container = document.getElementById('toolsContainer');
            container.innerHTML = '';

            tools.forEach(tool => {
                const isCompleted = trainingState.completed.includes(tool.id);
                const card = document.createElement('div');
                card.className = `col-md-6 col-lg-4 mb-4`;
                card.innerHTML = `
                    <div class="tool-card ${isCompleted ? 'completed' : ''}" onclick="openTool('${tool.id}')">
                        ${isCompleted ? '<div class="completion-badge"><i class="bi bi-check-circle-fill"></i></div>' : ''}
                        <div class="tool-order-badge">${tool.order}</div>
                        <div class="tool-icon ${tool.color}">
                            <i class="bi ${tool.icon}"></i>
                        </div>
                        <h4 style="margin-top: 10px;">${tool.name}</h4>
                        <p class="text-muted mb-3">${tool.description}</p>
                        <div class="tool-summary">
                            <h6><i class="bi bi-info-circle"></i> Resumo</h6>
                            <p class="mb-0" style="font-size: 0.9rem; color: #666;">${tool.content.overview.substring(0, 100)}...</p>
                        </div>
                        <div class="d-flex justify-content-between align-items-center mt-3">
                            <div>
                                <span class="progress-indicator ${isCompleted ? 'completed' : ''}"></span>
                                <span class="badge bg-${isCompleted ? 'success' : 'secondary'}">
                                    ${isCompleted ? 'Conclu√≠do' : 'Pendente'}
                                </span>
                            </div>
                            <a href="ferramentas-qualidade.html#${tool.id}" class="quick-link" onclick="event.stopPropagation();">
                                <i class="bi bi-play-circle"></i> Praticar
                            </a>
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        // Abrir ferramenta
        let currentToolId = null; // Armazenar ID da ferramenta atual
        
        function openTool(toolId) {
            const tool = tools.find(t => t.id === toolId);
            if (!tool) return;

            currentToolId = toolId; // Armazenar o ID atual
            
            const modal = new bootstrap.Modal(document.getElementById('toolModal'));
            document.getElementById('toolModalTitle').textContent = tool.name;
            
            const body = document.getElementById('toolModalBody');
            body.innerHTML = generateToolContent(tool);
            
            modal.show();
        }

        // Gerar conte√∫do da ferramenta
        function generateToolContent(tool) {
            const content = tool.content;
            return `
                <ul class="nav nav-tabs nav-tabs-custom" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" data-bs-toggle="tab" href="#overview-${tool.id}">Vis√£o Geral</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-bs-toggle="tab" href="#steps-${tool.id}">Passo a Passo</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-bs-toggle="tab" href="#example-${tool.id}">Exemplo</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-bs-toggle="tab" href="#tips-${tool.id}">Dicas</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-bs-toggle="tab" href="#quiz-${tool.id}">Quiz</a>
                    </li>
                </ul>

                <div class="tab-content mt-4">
                    <!-- Overview -->
                    <div class="tab-pane fade show active" id="overview-${tool.id}">
                        <div class="alert alert-info mb-4">
                            <h6><i class="bi bi-lightbulb"></i> Sobre a Ferramenta</h6>
                            <p class="mb-0">${content.overview}</p>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <h5 class="mb-3"><i class="bi bi-calendar-check"></i> Quando Usar</h5>
                                <ul class="list-group">
                                    ${content.whenToUse.map(item => `
                                        <li class="list-group-item">
                                            <i class="bi bi-check-circle text-success"></i> ${item}
                                        </li>
                                    `).join('')}
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <h5 class="mb-3"><i class="bi bi-star"></i> Benef√≠cios</h5>
                                <div class="card">
                                    <div class="card-body">
                                        <ul class="mb-0">
                                            <li><strong>Efici√™ncia:</strong> Organiza informa√ß√µes de forma estruturada</li>
                                            <li><strong>Clareza:</strong> Facilita a comunica√ß√£o e tomada de decis√£o</li>
                                            <li><strong>Resultados:</strong> Aumenta a probabilidade de sucesso</li>
                                            <li><strong>Documenta√ß√£o:</strong> Cria registro hist√≥rico das an√°lises</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-4">
                            <a href="ferramentas-qualidade.html" class="btn btn-primary btn-lg w-100">
                                <i class="bi bi-play-circle"></i> Praticar Esta Ferramenta Agora
                            </a>
                        </div>
                    </div>

                    <!-- Steps -->
                    <div class="tab-pane fade" id="steps-${tool.id}">
                        <h5 class="mb-3"><i class="bi bi-list-ol"></i> Passo a Passo</h5>
                        <div class="step-indicator mb-4">
                            ${content.steps.map((step, index) => `
                                <div class="step ${index === 0 ? 'active' : ''}" title="${step.title}">${index + 1}</div>
                            `).join('')}
                        </div>
                        <div class="row">
                            ${content.steps.map((step, index) => `
                                <div class="col-md-6 mb-3">
                                    <div class="card h-100">
                                        <div class="card-header bg-primary text-white">
                                            <strong>Passo ${index + 1}</strong>
                                        </div>
                                        <div class="card-body">
                                            <h6 class="text-primary">${step.title}</h6>
                                            <p class="mb-0">${step.description}</p>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <!-- Example -->
                    <div class="tab-pane fade" id="example-${tool.id}">
                        <h5 class="mb-3">${content.example.title}</h5>
                        ${generateExample(tool.id, content.example)}
                    </div>

                    <!-- Tips -->
                    <div class="tab-pane fade" id="tips-${tool.id}">
                        <h5 class="mb-3"><i class="bi bi-lightbulb-fill text-warning"></i> Dicas Importantes</h5>
                        <div class="alert alert-warning mb-4">
                            <strong><i class="bi bi-exclamation-triangle"></i> Aten√ß√£o:</strong> Estas dicas foram desenvolvidas com base em melhores pr√°ticas e experi√™ncia pr√°tica. Aplique-as conforme o contexto do seu projeto.
                        </div>
                        <div class="row">
                            ${content.tips.map((tip, index) => `
                                <div class="col-md-6 mb-3">
                                    <div class="card border-warning h-100">
                                        <div class="card-body">
                                            <div class="d-flex align-items-start">
                                                <div class="me-3">
                                                    <div class="bg-warning text-white rounded-circle d-flex align-items-center justify-content-center" style="width: 35px; height: 35px; font-weight: bold;">
                                                        ${index + 1}
                                                    </div>
                                                </div>
                                                <div>
                                                    <h6 class="text-warning mb-2">Dica Pr√°tica</h6>
                                                    <p class="mb-0">${tip}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <!-- Quiz -->
                    <div class="tab-pane fade" id="quiz-${tool.id}">
                        <div class="quiz-container">
                            <div class="alert alert-primary mb-4">
                                <h6><i class="bi bi-question-circle"></i> Teste Seu Conhecimento</h6>
                                <p class="mb-0">Responda a pergunta abaixo para verificar seu entendimento sobre esta ferramenta.</p>
                            </div>
                            <h5 class="quiz-question mb-4">
                                <i class="bi bi-chat-quote text-primary"></i> ${content.quiz.question}
                            </h5>
                            ${content.quiz.options.map((option, index) => `
                                <div class="quiz-option" onclick="checkAnswer(${index}, ${content.quiz.correct}, '${tool.id}')">
                                    ${option}
                                </div>
                            `).join('')}
                            <div id="quiz-result-${tool.id}" class="mt-4"></div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Gerar exemplo espec√≠fico
        function generateExample(toolId, example) {
            if (toolId === 'swot') {
                return `
                    <div class="row">
                        <div class="col-md-6">
                            <h6 class="text-success"><i class="bi bi-arrow-up-circle"></i> For√ßas</h6>
                            <ul>
                                ${example.content.forcas.map(f => `<li>${f}</li>`).join('')}
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6 class="text-danger"><i class="bi bi-arrow-down-circle"></i> Fraquezas</h6>
                            <ul>
                                ${example.content.fraquezas.map(f => `<li>${f}</li>`).join('')}
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6 class="text-info"><i class="bi bi-arrow-up-right-circle"></i> Oportunidades</h6>
                            <ul>
                                ${example.content.oportunidades.map(o => `<li>${o}</li>`).join('')}
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6 class="text-warning"><i class="bi bi-exclamation-triangle"></i> Amea√ßas</h6>
                            <ul>
                                ${example.content.ameacas.map(a => `<li>${a}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                `;
            } else if (toolId === 'brainstorm') {
                return `
                    <div class="row">
                        ${example.ideas.map(idea => `
                            <div class="col-md-6 mb-2">
                                <div class="card">
                                    <div class="card-body">
                                        <i class="bi bi-lightbulb text-warning"></i> ${idea}
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
            } else if (toolId === 'forca-impacto') {
                return `
                    <div class="row">
                        <div class="col-md-6">
                            <h6 class="text-success">Quick Wins</h6>
                            <ul>
                                ${example.quadrants.quickWins.map(q => `<li>${q}</li>`).join('')}
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6 class="text-primary">Grandes Projetos</h6>
                            <ul>
                                ${example.quadrants.grandesProjetos.map(g => `<li>${g}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                `;
            } else if (toolId === 'ishikawa') {
                return `
                    <div class="row">
                        ${Object.entries(example.categories).map(([cat, items]) => `
                            <div class="col-md-6 mb-3">
                                <h6>${cat.charAt(0).toUpperCase() + cat.slice(1)}</h6>
                                <ul>
                                    ${items.map(item => `<li>${item}</li>`).join('')}
                                </ul>
                            </div>
                        `).join('')}
                    </div>
                `;
            } else if (toolId === '5porques') {
                return `
                    <div class="example-box">
                        ${example.chain.map(step => `<p><strong>${step}</strong></p>`).join('')}
                    </div>
                `;
            } else if (toolId === '5w2h') {
                return `
                    <div class="row">
                        <div class="col-md-6">
                            <p><strong>O qu√™?</strong> ${example.content.what}</p>
                            <p><strong>Por qu√™?</strong> ${example.content.why}</p>
                            <p><strong>Quem?</strong> ${example.content.who}</p>
                            <p><strong>Onde?</strong> ${example.content.where}</p>
                        </div>
                        <div class="col-md-6">
                            <p><strong>Quando?</strong> ${example.content.when}</p>
                            <p><strong>Como?</strong> ${example.content.how}</p>
                            <p><strong>Quanto?</strong> ${example.content.howMuch}</p>
                        </div>
                    </div>
                `;
            } else if (toolId === 'pdca') {
                return `
                    <div class="row">
                        ${Object.entries(example.cycle).map(([phase, desc]) => `
                            <div class="col-md-6 mb-3">
                                <div class="card">
                                    <div class="card-header bg-primary text-white">
                                        <strong>${phase.toUpperCase()}</strong>
                                    </div>
                                    <div class="card-body">
                                        ${desc}
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
            } else if (toolId === 'plano-acao') {
                return `
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>A√ß√£o</th>
                                <th>Respons√°vel</th>
                                <th>Prazo</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${example.actions.map(action => `
                                <tr>
                                    <td>${action.acao}</td>
                                    <td>${action.responsavel}</td>
                                    <td>${action.prazo}</td>
                                    <td><span class="badge bg-info">${action.status}</span></td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                `;
            } else {
                return `
                    <div class="example-box">
                        ${example.sections.map(section => `<p><i class="bi bi-check"></i> ${section}</p>`).join('')}
                    </div>
                `;
            }
        }

        // Verificar resposta do quiz
        function checkAnswer(selected, correct, toolId) {
            const options = document.querySelectorAll(`#quiz-${toolId} .quiz-option`);
            const resultDiv = document.getElementById(`quiz-result-${toolId}`);
            
            // Desabilitar todas as op√ß√µes ap√≥s resposta
            options.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            options.forEach((opt, index) => {
                opt.classList.remove('correct', 'incorrect');
                if (index === correct) {
                    opt.classList.add('correct');
                } else if (index === selected && index !== correct) {
                    opt.classList.add('incorrect');
                }
            });

            if (selected === correct) {
                resultDiv.innerHTML = `
                    <div class="alert alert-success">
                        <h6><i class="bi bi-check-circle-fill"></i> <strong>Parab√©ns! Resposta Correta!</strong></h6>
                        <p class="mb-0">Voc√™ demonstrou compreens√£o sobre esta ferramenta. Continue assim!</p>
                    </div>
                `;
            } else {
                const correctAnswer = options[correct].textContent.trim();
                resultDiv.innerHTML = `
                    <div class="alert alert-danger">
                        <h6><i class="bi bi-x-circle-fill"></i> <strong>Resposta Incorreta</strong></h6>
                        <p class="mb-2">A resposta correta √©: <strong>${correctAnswer}</strong></p>
                        <p class="mb-0">Revise o conte√∫do e tente novamente!</p>
                    </div>
                `;
            }
        }

        // Marcar como conclu√≠do
        function markAsCompleted() {
            if (!currentToolId) {
                console.error('‚ùå ID da ferramenta n√£o encontrado');
                return;
            }
            
            const tool = tools.find(t => t.id === currentToolId);
            if (!tool) {
                console.error('‚ùå Ferramenta n√£o encontrada:', currentToolId);
                return;
            }
            
            if (!trainingState.completed.includes(tool.id)) {
                trainingState.completed.push(tool.id);
                localStorage.setItem('trainingCompleted', JSON.stringify(trainingState.completed));
                updateProgress();
                renderTools();
                
                const modal = bootstrap.Modal.getInstance(document.getElementById('toolModal'));
                if (modal) modal.hide();
                
                // Verificar se completou tudo
                if (trainingState.completed.length === tools.length) {
                    setTimeout(() => {
                        showCertificate();
                    }, 500);
                } else {
                    // Mostrar mensagem de sucesso
                    mostrarAlerta(`‚úÖ ${tool.name} marcado como conclu√≠do!`, 'success');
                }
            } else {
                mostrarAlerta('Esta ferramenta j√° foi conclu√≠da!', 'info');
            }
        }

        // Fun√ß√£o auxiliar para mostrar alertas
        function mostrarAlerta(mensagem, tipo) {
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${tipo} alert-dismissible fade show position-fixed`;
            alertDiv.style.cssText = 'top: 20px; right: 20px; z-index: 9999; min-width: 300px;';
            alertDiv.innerHTML = `
                ${mensagem}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            document.body.appendChild(alertDiv);
            
            setTimeout(() => {
                alertDiv.remove();
            }, 5000);
        }

        // Atualizar progresso
        function updateProgress() {
            const total = tools.length;
            const completed = trainingState.completed.length;
            const percentage = Math.round((completed / total) * 100);
            
            trainingState.progress = percentage;
            localStorage.setItem('trainingProgress', percentage.toString());
            
            const progressBar = document.getElementById('progressBar');
            const progressText = document.getElementById('progressText');
            const progressPercentage = document.getElementById('progressPercentage');
            const completedCount = document.getElementById('completedCount');
            const totalCount = document.getElementById('totalCount');
            const progressIndicators = document.getElementById('progressIndicators');
            
            if (progressBar) {
                progressBar.style.width = percentage + '%';
                progressBar.setAttribute('aria-valuenow', percentage);
            }
            
            if (progressText) {
                progressText.textContent = percentage + '% Completo';
            }
            
            if (progressPercentage) {
                progressPercentage.textContent = percentage + '%';
            }
            
            if (completedCount) {
                completedCount.textContent = completed;
            }
            
            if (totalCount) {
                totalCount.textContent = total;
            }
            
            // Atualizar indicadores visuais
            if (progressIndicators) {
                progressIndicators.innerHTML = `
                    <div class="row">
                        ${tools.map(tool => `
                            <div class="col-6 col-md-4 col-lg-3 mb-2">
                                <div class="d-flex align-items-center">
                                    <span class="progress-indicator ${trainingState.completed.includes(tool.id) ? 'completed' : ''}" 
                                          style="margin-right: 8px;"></span>
                                    <small style="font-size: 0.85rem;">${tool.name}</small>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
            }
        }

        // Mostrar certificado
        function showCertificate() {
            // Criar modal de certificado
            const certificateHTML = `
                <div class="modal fade" id="certificateModal" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false">
                    <div class="modal-dialog modal-xl modal-dialog-centered" style="max-width: 1000px;">
                        <div class="modal-content" style="border-radius: 0; overflow: hidden; border: none; box-shadow: 0 20px 60px rgba(0,0,0,0.3);">
                            <div class="modal-body p-0">
                                <!-- Wrapper com borda mesclada -->
                                <div style="background: linear-gradient(135deg, #0066cc 0%, #dc3545 33%, #28a745 66%, #0066cc 100%); padding: 10px; height: 100vh; max-height: 842px; position: relative;">
                                    <div id="certificateContent" style="background: #ffffff; padding: 0; text-align: center; height: 100%; position: relative; overflow: hidden;">
                                        <!-- Conte√∫do do certificado -->
                                        <div style="position: relative; z-index: 2; padding: 40px 40px 35px; max-width: 900px; margin: 0 auto; height: 100%; display: flex; flex-direction: column; justify-content: space-between;">
                                        <div>
                                            <!-- Logo Multimodal -->
                                            <div style="margin-bottom: 15px;">
                                                <!-- Se houver logo em /uploads/logo.png ou similar, usar: -->
                                                <!-- <img src="/uploads/logo-multimodal.png" alt="Grupo Multimodal" style="max-height: 60px; width: auto;"> -->
                                                <!-- Logo SVG tempor√°ria (substituir por imagem real quando dispon√≠vel) -->
                                                <div style="display: inline-block; text-align: left;">
                                                    <svg width="200" height="60" viewBox="0 0 280 90" style="margin: 0 auto;">
                                                        <!-- Setas/Chevrons Multimodal -->
                                                        <g transform="translate(15, 10)">
                                                            <!-- Seta vermelha (topo) -->
                                                            <path d="M 0 0 L 14 9 L 0 18 Z" fill="#dc3545" />
                                                            <path d="M 14 0 L 28 9 L 14 18 Z" fill="#dc3545" />
                                                            <!-- Seta verde (meio) -->
                                                            <path d="M 0 18 L 14 27 L 0 36 Z" fill="#28a745" />
                                                            <path d="M 14 18 L 28 27 L 14 36 Z" fill="#28a745" />
                                                            <!-- Seta azul (baixo) -->
                                                            <path d="M 0 36 L 14 45 L 0 54 Z" fill="#0066cc" />
                                                            <path d="M 14 36 L 28 45 L 14 54 Z" fill="#0066cc" />
                                                        </g>
                                                        <!-- Texto Grupo Multimodal -->
                                                        <text x="50" y="28" font-family="'Segoe UI', Arial, sans-serif" font-size="12" font-weight="600" fill="#1a1a2e" letter-spacing="0.5px">Grupo</text>
                                                        <text x="50" y="48" font-family="'Segoe UI', Arial, sans-serif" font-size="20" font-weight="700" fill="#1a1a2e" letter-spacing="1.5px">Multimodal</text>
                                                    </svg>
                                                </div>
                                            </div>
                                            
                                            <!-- Linha decorativa elegante -->
                                            <div style="width: 200px; height: 2px; background: linear-gradient(90deg, transparent, #667eea 20%, #764ba2 50%, #667eea 80%, transparent); margin: 0 auto 15px; border-radius: 2px;"></div>
                                            
                                            <!-- T√≠tulo principal -->
                                            <div style="font-size: 0.55rem; color: #667eea; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 4px; font-weight: 700; font-family: 'Segoe UI', sans-serif;">
                                                Certificado de Conclus√£o
                                            </div>
                                            
                                            <h1 style="font-size: 2rem; font-weight: 800; margin-bottom: 8px; color: #1a1a2e; line-height: 1.1; font-family: 'Segoe UI', sans-serif; letter-spacing: -0.5px;">
                                                Treinamento Completo
                                            </h1>
                                            
                                            <h2 style="font-size: 1.3rem; font-weight: 600; margin-bottom: 20px; color: #667eea; font-family: 'Segoe UI', sans-serif; letter-spacing: 0.5px;">
                                                Ferramentas de Qualidade
                                            </h2>
                                            
                                            <!-- Texto de certifica√ß√£o -->
                                            <div style="font-size: 0.9rem; margin-bottom: 15px; color: #444; line-height: 1.5; font-family: 'Georgia', serif; font-style: italic;">
                                                Certificamos que
                                            </div>
                                            
                                            <!-- Nome do usu√°rio - destaque elegante -->
                                            <div id="userName" style="font-size: 1.6rem; font-weight: 700; margin: 0 auto 18px; color: #1a1a2e; padding: 15px 35px; border: 3px double #667eea; border-radius: 6px; display: inline-block; min-width: 400px; background: linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%); font-family: 'Segoe UI', sans-serif; letter-spacing: 0.5px; box-shadow: 0 3px 10px rgba(102, 126, 234, 0.12);">
                                                [Carregando...]
                                            </div>
                                            
                                            <!-- Descri√ß√£o -->
                                            <div style="font-size: 0.85rem; margin-bottom: 18px; color: #555; line-height: 1.5; max-width: 700px; margin-left: auto; margin-right: auto; font-family: 'Segoe UI', sans-serif;">
                                                completou com sucesso o treinamento completo sobre<br>
                                                <strong style="color: #667eea; font-size: 0.95rem; font-weight: 600;">Ferramentas de Qualidade</strong>, demonstrando conhecimento em:<br>
                                                <span style="color: #333; font-size: 0.8rem; line-height: 1.5;">SWOT, Brainstorming, Matriz For√ßa x Impacto, Ishikawa, 5 Porqu√™s, 5W2H, PDCA, Plano de A√ß√£o e Relat√≥rios com IA</span>
                                            </div>
                                            
                                            <!-- Linha decorativa inferior -->
                                            <div style="width: 200px; height: 2px; background: linear-gradient(90deg, transparent, #667eea 20%, #764ba2 50%, #667eea 80%, transparent); margin: 0 auto 15px; border-radius: 2px;"></div>
                                        </div>
                                        
                                        <!-- Rodap√© elegante -->
                                        <div style="border-top: 2px double #e0e0e0; padding-top: 15px; margin-top: auto;">
                                            <div style="font-size: 0.8rem; color: #666; margin-bottom: 8px; font-family: 'Segoe UI', sans-serif;">
                                                Data de Conclus√£o: <strong style="color: #667eea; font-size: 0.85rem;" id="completionDate"></strong>
                                            </div>
                                            <div style="font-size: 0.75rem; color: #999; font-family: 'Segoe UI', sans-serif; letter-spacing: 0.5px;">
                                                Multimodal - Sistema de Gest√£o da Qualidade
                                            </div>
                                        </div>
                                    </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer" style="background: #f8f9fa; border-top: 2px solid #e0e0e0; padding: 25px;">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                                    <i class="bi bi-x-circle"></i> Fechar
                                </button>
                                <button type="button" class="btn btn-primary" onclick="downloadCertificate()">
                                    <i class="bi bi-download"></i> Baixar Certificado (PDF)
                                </button>
                                <button type="button" class="btn btn-success" onclick="shareCertificate()">
                                    <i class="bi bi-share"></i> Compartilhar
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // Adicionar modal ao DOM se n√£o existir
            if (!document.getElementById('certificateModal')) {
                document.body.insertAdjacentHTML('beforeend', certificateHTML);
            }
            
            // Buscar nome do usu√°rio ANTES de mostrar o modal
            buscarNomeUsuario().then(() => {
                // Preencher data
                const hoje = new Date();
                const dataFormatada = hoje.toLocaleDateString('pt-BR', { 
                    day: '2-digit', 
                    month: 'long', 
                    year: 'numeric' 
                });
                const dateElement = document.getElementById('completionDate');
                if (dateElement) {
                    dateElement.textContent = dataFormatada;
                }
                
                // Mostrar modal
                const modal = new bootstrap.Modal(document.getElementById('certificateModal'));
                modal.show();
                
                // Salvar que o certificado foi gerado
                localStorage.setItem('certificateGenerated', 'true');
                localStorage.setItem('certificateDate', hoje.toISOString());
            });
        }

        // Buscar nome do usu√°rio - PRIORIZAR user_profiles.nome
        async function buscarNomeUsuario() {
            const userNameEl = document.getElementById('userName');
            if (!userNameEl) {
                console.warn('‚ö†Ô∏è Elemento userName n√£o encontrado');
                return Promise.resolve();
            }
            
            return new Promise(async (resolve) => {
                try {
                    // 1. PRIORIDADE: Buscar diretamente da tabela user_profiles via Supabase
                    try {
                        if (typeof supabase !== 'undefined' && supabase) {
                            const { data: { user }, error: authError } = await supabase.auth.getUser();
                            if (!authError && user && user.id) {
                                // Buscar nome da tabela user_profiles
                                const { data: profile, error: profileError } = await supabase
                                    .from('user_profiles')
                                    .select('nome')
                                    .eq('id', user.id)
                                    .single();
                                
                                if (!profileError && profile && profile.nome && profile.nome.trim() !== '') {
                                    console.log('‚úÖ Nome encontrado em user_profiles:', profile.nome);
                                    userNameEl.textContent = profile.nome;
                                    resolve();
                                    return;
                                }
                            }
                        }
                    } catch (supabaseError) {
                        console.warn('‚ö†Ô∏è Erro ao buscar do Supabase:', supabaseError);
                    }
                    
                    // 2. Tentar buscar do loggedInUser no localStorage
                    const loggedInUser = localStorage.getItem('loggedInUser');
                    if (loggedInUser) {
                        try {
                            const user = JSON.parse(loggedInUser);
                            // Buscar nome de v√°rias formas poss√≠veis
                            if (user.nome && user.nome.trim() !== '') {
                                userNameEl.textContent = user.nome;
                                resolve();
                                return;
                            }
                            if (user.name && user.name.trim() !== '') {
                                userNameEl.textContent = user.name;
                                resolve();
                                return;
                            }
                        } catch (e) {
                            console.warn('‚ö†Ô∏è Erro ao parsear loggedInUser:', e);
                        }
                    }
                    
                    // 3. Tentar buscar do sessionStorage
                    const sessionUser = sessionStorage.getItem('currentUser');
                    if (sessionUser) {
                        try {
                            const user = JSON.parse(sessionUser);
                            if (user.nome && user.nome.trim() !== '') {
                                userNameEl.textContent = user.nome;
                                resolve();
                                return;
                            }
                            if (user.name && user.name.trim() !== '') {
                                userNameEl.textContent = user.name;
                                resolve();
                                return;
                            }
                        } catch (e) {}
                    }
                    
                    // 4. Tentar buscar do userData no localStorage
                    const userData = localStorage.getItem('userData');
                    if (userData) {
                        try {
                            const user = JSON.parse(userData);
                            if (user.nome && user.nome.trim() !== '') {
                                userNameEl.textContent = user.nome;
                                resolve();
                                return;
                            }
                            if (user.name && user.name.trim() !== '') {
                                userNameEl.textContent = user.name;
                                resolve();
                                return;
                            }
                        } catch (e) {}
                    }
                    
                    // 5. √öltimo fallback: usar email (mas n√£o √© ideal)
                    if (loggedInUser) {
                        try {
                            const user = JSON.parse(loggedInUser);
                            if (user.email) {
                                const emailName = user.email.split('@')[0];
                                userNameEl.textContent = emailName.charAt(0).toUpperCase() + emailName.slice(1);
                                console.warn('‚ö†Ô∏è Usando email como nome (nome n√£o encontrado em user_profiles)');
                                resolve();
                                return;
                            }
                        } catch (e) {}
                    }
                    
                    // 6. √öltimo fallback
                    userNameEl.textContent = 'Usu√°rio';
                    console.warn('‚ö†Ô∏è N√£o foi poss√≠vel encontrar o nome do usu√°rio, usando padr√£o');
                    resolve();
                } catch (error) {
                    console.error('‚ùå Erro ao buscar nome do usu√°rio:', error);
                    userNameEl.textContent = 'Usu√°rio';
                    resolve();
                }
            });
        }

        // Mostrar bot√£o de certificado na p√°gina
        function mostrarBotaoCertificado() {
            const header = document.querySelector('.training-header');
            if (header && !document.getElementById('certificateButton')) {
                const buttonHTML = `
                    <div class="col-md-4 text-end" id="certificateButtonContainer">
                        <button class="certificate-btn" onclick="showCertificate()">
                            <i class="bi bi-trophy"></i> Ver Certificado
                        </button>
                    </div>
                `;
                const row = header.querySelector('.row');
                if (row) {
                    const col = row.querySelector('.col-md-8');
                    if (col) {
                        col.className = 'col-md-8';
                        row.insertAdjacentHTML('beforeend', buttonHTML);
                    }
                }
            }
        }

        // Download do certificado em PDF
        function downloadCertificate() {
            const certificateContent = document.getElementById('certificateContent');
            if (!certificateContent) return;
            
            // Criar janela de impress√£o com o certificado
            const printWindow = window.open('', '_blank');
            const userName = document.getElementById('userName')?.textContent || 'Usu√°rio';
            const completionDate = document.getElementById('completionDate')?.textContent || new Date().toLocaleDateString('pt-BR');
            
            printWindow.document.write(`
                <!DOCTYPE html>
                <html>
                <head>
                    <title>Certificado - Ferramentas de Qualidade</title>
                    <meta charset="UTF-8">
                    <style>
                        @media print {
                            @page { 
                                size: A4 landscape; 
                                margin: 0;
                            }
                            body { 
                                margin: 0; 
                                padding: 0; 
                            }
                        }
                        body {
                            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                            background: linear-gradient(135deg, #0066cc 0%, #dc3545 33%, #28a745 66%, #0066cc 100%);
                            padding: 10px;
                            text-align: center;
                            color: #1a1a2e;
                            height: 100vh;
                            max-height: 842px;
                            position: relative;
                            margin: 0;
                            overflow: hidden;
                        }
                        .certificate-wrapper {
                            background: #ffffff;
                            position: relative;
                            height: 100%;
                            padding: 40px 40px 35px;
                            display: flex;
                            flex-direction: column;
                            justify-content: space-between;
                        }
                        .certificate-container {
                            max-width: 900px;
                            width: 100%;
                            position: relative;
                            z-index: 2;
                            margin: 0 auto;
                            height: 100%;
                            display: flex;
                            flex-direction: column;
                            justify-content: space-between;
                        }
                        .logo-container {
                            margin-bottom: 15px;
                        }
                        .decorative-line {
                            width: 200px;
                            height: 2px;
                            background: linear-gradient(90deg, transparent, #667eea 20%, #764ba2 50%, #667eea 80%, transparent);
                            margin: 0 auto 15px;
                            border-radius: 2px;
                        }
                        .certificate-title {
                            font-size: 0.55rem;
                            color: #667eea;
                            margin-bottom: 10px;
                            text-transform: uppercase;
                            letter-spacing: 4px;
                            font-weight: 700;
                        }
                        h1 {
                            font-size: 2rem;
                            font-weight: 800;
                            margin-bottom: 8px;
                            color: #1a1a2e;
                            line-height: 1.1;
                            letter-spacing: -0.5px;
                        }
                        h2 {
                            font-size: 1.3rem;
                            font-weight: 600;
                            margin-bottom: 20px;
                            color: #667eea;
                            letter-spacing: 0.5px;
                        }
                        .cert-text {
                            font-size: 0.9rem;
                            margin-bottom: 15px;
                            color: #444;
                            line-height: 1.5;
                            font-family: 'Georgia', serif;
                            font-style: italic;
                        }
                        .user-name {
                            font-size: 1.6rem;
                            font-weight: 700;
                            margin: 0 auto 18px;
                            color: #1a1a2e;
                            padding: 15px 35px;
                            border: 3px double #667eea;
                            border-radius: 6px;
                            display: inline-block;
                            min-width: 400px;
                            background: linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%);
                            letter-spacing: 0.5px;
                            box-shadow: 0 3px 10px rgba(102, 126, 234, 0.12);
                        }
                        .description {
                            font-size: 0.85rem;
                            margin-bottom: 18px;
                            color: #555;
                            line-height: 1.5;
                            max-width: 700px;
                            margin-left: auto;
                            margin-right: auto;
                        }
                        .description strong {
                            color: #667eea;
                            font-size: 0.95rem;
                            font-weight: 600;
                        }
                        .footer {
                            border-top: 2px double #e0e0e0;
                            padding-top: 15px;
                            margin-top: auto;
                        }
                        .date {
                            font-size: 0.8rem;
                            color: #666;
                            margin-bottom: 8px;
                        }
                        .date strong {
                            color: #667eea;
                            font-size: 0.85rem;
                        }
                        .company {
                            font-size: 0.75rem;
                            color: #999;
                            letter-spacing: 0.5px;
                        }
                        .seal {
                            position: absolute;
                            top: 20px;
                            right: 20px;
                            width: 60px;
                            height: 60px;
                            border: 2px solid #667eea;
                            border-radius: 50%;
                            background: rgba(255, 255, 255, 0.9);
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            z-index: 3;
                            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
                            font-size: 1.5rem;
                        }
                    </style>
                </head>
                <body>
                    <div style="background: linear-gradient(135deg, #0066cc 0%, #dc3545 33%, #28a745 66%, #0066cc 100%); padding: 10px; height: 100vh; max-height: 842px;">
                        <div class="certificate-wrapper">
                            <div class="certificate-container">
                            <div>
                                <div class="logo-container">
                                    <svg width="200" height="60" viewBox="0 0 280 90" style="margin: 0 auto;">
                                        <g transform="translate(15, 10)">
                                            <path d="M 0 0 L 14 9 L 0 18 Z" fill="#dc3545" />
                                            <path d="M 14 0 L 28 9 L 14 18 Z" fill="#dc3545" />
                                            <path d="M 0 18 L 14 27 L 0 36 Z" fill="#28a745" />
                                            <path d="M 14 18 L 28 27 L 14 36 Z" fill="#28a745" />
                                            <path d="M 0 36 L 14 45 L 0 54 Z" fill="#0066cc" />
                                            <path d="M 14 36 L 28 45 L 14 54 Z" fill="#0066cc" />
                                        </g>
                                        <text x="50" y="28" font-family="'Segoe UI', Arial, sans-serif" font-size="12" font-weight="600" fill="#1a1a2e" letter-spacing="0.5px">Grupo</text>
                                        <text x="50" y="48" font-family="'Segoe UI', Arial, sans-serif" font-size="20" font-weight="700" fill="#1a1a2e" letter-spacing="1.5px">Multimodal</text>
                                    </svg>
                                </div>
                                <div class="decorative-line"></div>
                                <div class="certificate-title">Certificado de Conclus√£o</div>
                                <h1>Treinamento Completo</h1>
                                <h2>Ferramentas de Qualidade</h2>
                                <div class="cert-text">Certificamos que</div>
                                <div class="user-name">${userName}</div>
                                <div class="description">
                                    completou com sucesso o treinamento completo sobre<br>
                                    <strong>Ferramentas de Qualidade</strong>, demonstrando conhecimento em:<br>
                                    <span style="color: #333; font-size: 0.8rem; line-height: 1.5;">SWOT, Brainstorming, Matriz For√ßa x Impacto, Ishikawa, 5 Porqu√™s, 5W2H, PDCA, Plano de A√ß√£o e Relat√≥rios com IA</span>
                                </div>
                                <div class="decorative-line"></div>
                            </div>
                            <div class="footer">
                                <div class="date">Data de Conclus√£o: <strong>${completionDate}</strong></div>
                                <div class="company">Multimodal - Sistema de Gest√£o da Qualidade</div>
                            </div>
                        </div>
                    </div>
                </body>
                </html>
            `);
            printWindow.document.close();
            setTimeout(() => {
                printWindow.print();
            }, 500);
        }

        // Compartilhar certificado
        function shareCertificate() {
            if (navigator.share) {
                navigator.share({
                    title: 'Certificado - Ferramentas de Qualidade',
                    text: 'Conclu√≠ o treinamento completo de Ferramentas de Qualidade!',
                    url: window.location.href
                }).catch(err => console.log('Erro ao compartilhar:', err));
            } else {
                // Fallback: copiar link
                navigator.clipboard.writeText(window.location.href).then(() => {
                    mostrarAlerta('Link copiado para a √°rea de transfer√™ncia!', 'success');
                });
            }
        }

        // Scroll to top
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>
</html>

